import{_ as S,u as q,E as L,r as p,a as T,b as r,o as U,c as B,e as o,i as g,G as x,H as C,d as s,w as a,I as N,J as $,j as c}from"./index-e2d856b9.js";import{a as E,l as I,b as j}from"./login-65d1ef01.js";import{l as D}from"./login-img-1e38655c.js";const F={class:"login-body"},G={class:"login-header"},H=["src"],J={class:"login-footer"},K={class:"login-footer-title"},R={class:"login-content"},z={style:{margin:"16px"}},A={class:"register"},M={class:"login-content"},O={style:{margin:"16px"}},P={__name:"LoginView",setup(Q){let m=q(),_=L();console.log("login",_.token);let v=p("");E().then(t=>{console.log("res==>",t),v.value=t.key});const n=p(""),i=p(""),b=t=>{console.log("submit",t),I(n.value,i.value).then(e=>{console.log("登录后的数据==>",e),e.token?(N("登录成功"),_.changeToken(e.token),m.push("/my")):$("登录失败",e.token)})};let u=T({decide:!0});const f=t=>{u.decide=t,console.log(u.decide)},h=()=>{m.push({path:"/register"})},k=()=>{j(v.value,n.value).then(t=>{console.log(t)})};return(t,e)=>{const d=r("van-field"),V=r("van-cell-group"),y=r("van-button"),w=r("van-form");return U(),B("div",F,[o("div",G,[o("img",{class:"login-img",src:g(D)},null,8,H)]),o("div",J,[o("div",K,[o("p",{class:"count-login",onClick:e[0]||(e[0]=l=>f(!0))},"账号登录"),o("p",{class:"quick-login",onClick:e[1]||(e[1]=l=>f(!1))},"快速登录")]),x(o("div",R,[s(w,{onSubmit:b},{default:a(()=>[s(V,{inset:""},{default:a(()=>[s(d,{class:"login-input",modelValue:n.value,"onUpdate:modelValue":e[2]||(e[2]=l=>n.value=l),name:"手机号",label:"手机号",placeholder:"输入手机号码","label-width":"45px",rules:[{required:!0,message:"请填写手机号"}]},null,8,["modelValue"]),s(d,{class:"login-input",modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=l=>i.value=l),type:"password",name:"密码",label:"密码","label-width":"45px",placeholder:"填写登录密码",rules:[{required:!0,message:"请填写密码"}]},null,8,["modelValue"])]),_:1}),o("div",z,[s(y,{class:"login-button",round:"",block:"",type:"primary","native-type":"submit"},{default:a(()=>[c(" 登录 ")]),_:1}),o("p",A,[c("没有账号？"),o("span",{onClick:e[4]||(e[4]=l=>h())},"立即注册")])])]),_:1})],512),[[C,g(u).decide===!0]]),x(o("div",M,[s(w,{onSubmit:b},{default:a(()=>[s(V,{inset:""},{default:a(()=>[s(d,{class:"login-input",modelValue:n.value,"onUpdate:modelValue":e[5]||(e[5]=l=>n.value=l),name:"手机号",label:"手机号",placeholder:"输入手机号码","label-width":"45px",rules:[{required:!0,message:"请填写手机号"}]},null,8,["modelValue"]),s(d,{class:"login-input",modelValue:i.value,"onUpdate:modelValue":e[6]||(e[6]=l=>i.value=l),type:"password",name:"验证码",label:"验证码","label-width":"45px",placeholder:"输入验证码",rules:[{required:!0,message:"请填写验证码"}]},null,8,["modelValue"]),o("button",{class:"login-code",onClick:k},"获取验证码")]),_:1}),o("div",O,[s(y,{class:"login-button",round:"",block:"",type:"primary","native-type":"submit",onClick:k},{default:a(()=>[c(" 登录 ")]),_:1}),o("p",{class:"register"},[c("没有账号？"),o("span",{onClick:h},"立即注册")])])]),_:1})],512),[[C,g(u).decide===!1]])])])}}},Z=S(P,[["__scopeId","data-v-bc4a7fa4"]]);export{Z as default};
